define(["highstock","common/util"],function(){var a={};return{init:function(){!function(b,c){function d(a,b,d){var e=this.chart.series.length+1,f=!1;if(this.data[this.data.length-1]){c.isNumeric(this.data[this.data.length-1].change)&&(f=!0,d=toFixed(this.data[this.data.length-1].change,2));var g=b.name||d+(f?"%":"");this.yAxis.addPlotLine({id:"HorizontalLine"+a,color:b.stroke,dashStyle:b.dashStyle,width:b.strokeWidth,value:d,zIndex:e,label:{text:g,align:"center"}})}}b&&!b.Series.prototype.addHorizontalLine&&(b.Series.prototype.addHorizontalLine=function(b){var e=this.options.id;b=c.extend({stroke:"green",strokeWidth:2,dashStyle:"solid",parentSeriesID:e},b);var f="_"+(new Date).getTime();return a[f]=b,d.call(this,f,b,b.value),f},b.Series.prototype.removeHorizontalLine=function(b){a[b]=null,this.yAxis.removePlotLine("HorizontalLine"+b)})}(Highcharts,jQuery)},updateHorizontalLineSeries:function(a,b){updateHorizontalLineSeries.call(a,b,!0)}}});